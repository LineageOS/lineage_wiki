{% assign device = site.data.devices[page.device] %}
<table class="deviceinfo table">
    <tbody>

    <tr>
      <th colspan="2">{{ device.vendor }} {{ device.name }} ({{ device.codename }})</th>
    </tr>

    <tr>
        <td colspan="2" style="text-align: center">
            Released
            {%- if device.release.first -%}
                <br>
                {%- for model in device.release -%}
                    {%- assign release = model.first[1] | split: '-' -%}
                    {{ model.first[0] }}: {% include snippets/release.html -%}
                    {%- unless forloop.last -%}
                    <br/>
                    {% endunless %}
                {%- endfor %}
            {%- else %}
                {% assign release = device.release | split: '-' -%}
                {% include snippets/release.html %}
            {%- endif %}
        </td>
    </tr>

    <tr class="image">
        {% if jekyll.environment == "development" or jekyll.environment == "production" %}
        <td colspan="2"><img src="{{ "images/devices/" | append: device.image | relative_url }}" /></td>
        {% else %}
        <td colspan="2"><img src="{{ "https://raw.githubusercontent.com/LineageOS/lineage_wiki/" | append: jekyll.environment | append: "/images/devices/" | append: device.image }}"/></td>
        {% endif %}
    </tr>

    {% if device.screen != 'None' %}
    <tr>
        <th scope="row" colspan="2">Display</th>
    </tr>

    {% if device.screen_mm %}
    <tr>
        <th scope="row">Size</th>
        <td>{{ device.screen_mm }} mm ({{ device.screen_mm | divided_by: 25.4 | round: 2 }} in)</td>
    </tr>
    {% else %}
    <tr>
        <th scope="row">Size</th>
        <td>{{ device.screen }}</td>
    </tr>
    {% endif %}
    <tr>
        <th scope="row">Resolution</th>
        <td>{{ device.screen_res }} ({{ device.screen_ppi }} PPI)</td>
    </tr>
    <tr>
        <th scope="row">Type</th>
        <td>{{ device.screen_tech }}</td>
    </tr>
    {% if device.screen_body_ratio %}
    <tr>
        <th scope="row">Screen to Body</th>
        <td>{{ device.screen_body_ratio }}</td>
    </tr>
    {% endif %}
    {% if device.notch == "Yes" %}
    <tr>
        <th scope="row">Notched Display</th>
        <td>Yes</td>
    </tr>
    {% endif %}
    {% endif %}

    <tr>
        <th scope="row" colspan="2">Platform</th>
    </tr>

    <tr>
        <th scope="row">SoC</th>
        <td>
            {% if device.soc.first.size == 1 %}
                {% for model in device.soc -%}
                    {{ model.first[0] }}: {{ model.first[1] | join: ', ' }}<br>
                {% endfor %}
            {% else %}
                {{ device.soc | join: ', ' }}
            {% endif %}
        </td>
    </tr>

    <tr>
        <th scope="row">CPU</th>
        <td>
            {% case device.cpu_cores %}
                {% when '1' %}
                    Single-core
                {% when '2' %}
                    Dual-core
                {% when '4' %}
                    Quad-core
                {% when '6' %}
                    Hexa-core
                {% when '8' %}
                    Octa-core
                {% else %}
                    {{ device.cpu_cores }}x
            {% endcase %} {{ device.cpu }}<br>{{ device.cpu_freq }}
        </td>
    </tr>

    <tr>
        <th scope="row">GPU</th>
        <td>{{ device.gpu }}</td>
    </tr>

    <tr>
        <th scope="row">Architecture</th>
        <td>
            {%- if device.architecture.cpu -%}
            CPU: {{ device.architecture.cpu }}<br/>
            Android: {{ device.architecture.userspace }}
            {%- else -%}
            {{ device.architecture }}
            {%- endif -%}
        </td>
    </tr>


    <tr>
        <th scope="row" colspan="2">Hardware</th>
    </tr>

    {% if device.height_mm and device.width_mm and device.depth_mm %}
        <tr>
            <th scope="row">Dimensions</th>
            <td>{{ device.height_mm }} mm ({{ device.height_mm | divided_by: 25.4 | round: 2 }} in) (h)<br>
                {{ device.width_mm }} mm ({{ device.width_mm | divided_by: 25.4 | round: 2 }} in) (w)<br>
                {{ device.depth_mm }} mm ({{ device.depth_mm | divided_by: 25.4 | round: 2 }} in) (d)<br>
        </tr>
    {% elsif device.height and device.width and device.depth %}
        <tr>
            <th scope="row">Dimensions</th>
            <td>{{ device.height }} (h)<br>{{ device.width }} (w)<br>{{ device.depth }} (d)</td>
        </tr>
    {% endif %}

    {% if device.mass %}
        <tr>
            <th scope="row">Mass</th>
            <td>{{ device.mass }} g</td>
        </tr>
    {% endif %}

    {%- if device.battery != 'None' %}
        <tr>
            <th scope="row">Battery</th>
            <td>
                {% if device.battery.first.size == 1 -%}
                    {%- comment %}The size of "first" will be 1 when there is a list of models{% endcomment -%}
                    {% for model in device.battery -%}
                        {%- assign modelname = model.first[0] %}
                        {%- assign battery_data = model.first[1] %}
                        {% include snippets/battery.html %}
                        {%- unless forloop.last -%}
                        <br/>
                        {%- endunless %}
                    {% endfor -%}
                {%- else %}
                    {%- assign battery_data = device.battery %}
                    {% include snippets/battery.html %}
                {%- endif -%}
            </td>
        </tr>
    {%- endif %}

    {% if device.camera_rear and device.camera_front %}
        <tr>
            <th scope="row">Front Camera</th>
            <td>
                {% if device.camera_front.first.size == 1 %}
                    {% for model in device.camera_front -%}
                        {{ model.first[0] }}:
                        {% if model.first[1].first %}
                            {% for cam in model.first[1] %}
                                {{ cam | join: ', ' }}
                                {%- unless forloop.last -%}
                                <br>
                                {% endunless %}
                            {% endfor %}
                            {%- unless forloop.last -%}
                            <br>
                            {% endunless %}
                        {% else %}
                            {{ model.first[1] | join: ', ' }}
                        {% endif %}
                    {% endfor %}
                {% elsif device.camera_front.first.first %}
                    {% for cam in device.camera_front %}
                        {{ cam | join: ', ' }}
                        {%- unless forloop.last -%}
                        <br>
                        {% endunless %}
                    {% endfor %}
                {% else %}
                    {{ device.camera_front | join: ', ' }}
                {% endif %}
            </td>
        </tr>

        <tr>
            <th scope="row">Rear Camera</th>
            <td>
                {% if device.camera_rear.first.size == 1 %}
                    {% for model in device.camera_rear -%}
                        {{ model.first[0] }}:
                        {% if model.first[1].first %}
                            {% for cam in model.first[1] %}
                                {{ cam | join: ', ' }}
                                {%- unless forloop.last -%}
                                <br>
                                {% endunless %}
                            {% endfor %}
                            {%- unless forloop.last -%}
                            <br>
                            {% endunless %}
                        {% else %}
                            {{ model.first[1] | join: ', ' }}
                        {% endif %}
                    {% endfor %}
                {% elsif device.camera_rear.first.first %}
                    {% for cam in device.camera_rear %}
                        {{ cam | join: ', ' }}
                        {%- unless forloop.last -%}
                        <br>
                        {% endunless %}
                    {% endfor %}
                {% else %}
                    {{ device.camera_rear | join: ', ' }}
                {% endif %}
            </td>
        </tr>
    {% elsif device.cameras and device.cameras.size > 0 %}
        <tr>
            <th scope="row">Camera</th>
            <td>{{ device.cameras | size }}
                <ul>
                    {% for el in device.cameras %}
                        <li>
                            {{ el.info }},
                            {% if el.flash != '' %}
                                {{ el.flash }}
                            {% else %}
                                No
                            {% endif %} flash
                        </li>
                    {% endfor %}
                </ul>
            </td>
        </tr>
    {% endif %}

    {% if device.ram_alt %}
    <tr>
        <th scope="row">RAM</th>
        <td>{{ device.ram_alt | join: "/" }} GB
            {% if device.ram_type %}
             {{ device.ram_type }}
            {% endif %}
        </td>
    </tr>
    {% else %}
    <tr>
        <th scope="row">RAM</th>
        <td>{{ device.ram }}</td>
    </tr>
    {% endif %}

    {% if device.storage_alt and device.storage_type %}
    <tr>
        <th scope="row">Storage</th>
        <td>{{ device.storage_alt | join: "/" }} GB {{ device.storage_type }}</td>
    </tr>
    {% else %}
    <tr>
        <th scope="row">Storage</th>
        <td>{{ device.storage }}</td>
    </tr>
    {% endif %}

    {% if device.sdcard %}
        <tr>
            <th scope="row">SD Card</th>
            <td>{{ device.sdcard }}</td>
        </tr>
    {% endif %}

    {% if device.fingerprint and device.fingerprint != "None" %}
        <tr>
            <th scope="row">Fingerprint</th>
            <td>{{ device.fingerprint }}</td>
        </tr>
    {% endif %}

    {% if device.usb %}
        <tr>
            <th scope="row">USB</th>
            <td>{{ device.usb }}</td>
        </tr>
    {% endif %}

    {% if device.ip_rating and device.ip_rating != "None" %}
        <tr>
            <th scope="row">IP Rating</th>
            <td>{{ device.ip_rating }}</td>
        </tr>
    {% endif %}

    {% if device.headphone_jack and device.headphone_jack != "None" %}
        <tr>
            <th scope="row">Headphone Jack</th>
            <td>Yes</td>
        </tr>
    {% endif %}


    <tr>
        <th scope="row" colspan="2">Connectivity</th>
    </tr>

    {% if device.wifi_alt %}
        <tr>
            <th scope="row">Wi-Fi</th>
            <td>{{ device.wifi_alt | join: ', ' }}</td>
        </tr>
    {% elsif device.wifi %}
        <tr>
            <th scope="row">Wi-Fi</th>
            <td>{{ device.wifi }}</td>
        </tr>
    {% endif %}

    {% if device.bluetooth_alt %}
        <tr>
            <th scope="row">Bluetooth</th>
            <td>{{ device.bluetooth_alt | join: ', ' }}</td>
        </tr>
    {% elsif device.bluetooth %}
        <tr>
            <th scope="row">Bluetooth</th>
            <td>
                {% if device.bluetooth.profiles -%}
                    {{ device.bluetooth.spec }} with {{ device.bluetooth.profiles | join: ', ' }}
                {% else -%}
                    {{ device.bluetooth.spec }}
                {% endif -%}
            </td>
        </tr>
    {% endif %}

    {% if device.carrier %}
        <tr>
            <th scope="col"">Carrier</th>
            <td>{{ device.carrier }}</td>
        </tr>
    {% endif %}

    {% if device.sim %}
        <tr>
            <th scope="col"">SIM</th>
            <td>{{ device.sim }}, {{ device.sim_size }}</td>
        </tr>
    {% endif %}

    {% if device.network %}
        <tr>
            <th scope="row">Network</th>
            <td>
                <ul>
                    {% for el in device.network %}
                        <li>{{ el }}</li>
                    {% endfor %}
                </ul>
            </td>
        </tr>
    {% endif %}

    {% if device.peripherals != 'None' %}
        <tr>
            <th scope="row">Peripherals</th>
            <td>
                {%- if device.peripherals.first.size == 1 %}
                    {%- for model in device.peripherals %}
                    <ul>
                        <li>{{ model.first[0] }}
                            {% assign peripherals = model.first[1] %}
                            {% include snippets/peripherals.html %}
                        </li>
                    </ul>
                    {%- endfor %}
                {%- else %}
                    {%- assign peripherals = device.peripherals %}
                    {%- include snippets/peripherals.html %}
                {%- endif %}
            </td>
        </tr>
    {% endif %}



    <!-- lineage info -->

    {% if device.maintainers != empty %}
        <tr>
            <th scope="row" colspan="2">LineageOS Info</th>
        </tr>
        <tr>
            <th scope="row">Maintainers</th>
            <td>
                <ul>
                    {% for el in device.maintainers %}
                        <li>{{ el }}</li>
                    {% endfor %}
                </ul>
            </td>
        </tr>

        {% if device.models %}
            <tr>
                <th scope="row">Supported Models</th>
                <td>
                    <ul>
                    {% for model in device.models %}
                    <li> {{ model }}
                    {% endfor %}
                    </ul>
                </td>
            </tr>
        {% endif %}

        <tr>
            <th scope="row">Supported Versions</th>
            <td>
                <ul>
                    {% for el in device.versions %}
                        <li>{{ el | round: 1 }}</li>
                    {% endfor %}
                </ul>
            </td>
        </tr>
    {% endif %}

    </tbody>
</table>
